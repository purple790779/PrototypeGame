# CHANGELOG

## v0.3.8
- Audio: 전투 진입/복귀 시 전투 BGM과 앰비언트 BGM을 페이드 전환하도록 수정
- Audio: 전투 BGM 파일명을 공백 없는 형태로 정리하고 참조 업데이트
- Stat: CON(체력) 스탯을 HUD/상태 시트에 추가하고 최대 HP 계산에 반영

## v0.3.7
- Added: Character Background generator (20x20)
- Added: Intro BGM from /sounds with proper toggle separation
- Fixed: Intro sound toggle advancing scene
- Changed: Start flow now background → prologue → travel → guild arrival

## v0.3.6
- Fix: travel_events JSON 문자열 따옴표 이스케이프 오류 수정

## v0.3.5
- UI: 모바일 상단 HUD를 좌/우 2구역 미니 HUD로 정리하고 스탯 아이콘 중심으로 재배치
- UX: 로그 패널 상단에 저장/BGM/새 여정 액션을 통합하고 하단 도크는 준비중 모달로 정리
- Content: 프롤로그 10종 및 여정 이벤트 30종을 서사형 텍스트로 확장, 여정 선택 결과 로그 추가

## v0.3.4
- Intro: 인트로 사운드 토글 분리 및 시작 터치 범위 조정(배경/안내 텍스트만 시작)
- Flow: 랜덤 프롤로그 → 여정 이벤트(3~6회) → 길드 도착 → 유한 의뢰 진행으로 흐름 재구성
- UX: 새 여정 시 이름 입력 모달 추가 및 플레이어 이름 HUD 반영
- Data: prologues/travel_events 데이터 분리 추가, 길드 도착 노드 및 의뢰 완료 카운트 도입

## v0.3.3
- Title: 게임 타이틀을 "루카스 어드벤처"로 통일 및 허브 요약 문구 톤 조정
- Audio: 인트로 첫 탭에서 AudioContext 재개 후 BGM을 안정 재생하고 음소거 토글/안내 문구 추가
- Content: 길드 의뢰 루프 제거 및 정산 후 엔딩 진입으로 구조 정리
- Storage: textrpg-lucas 키로 전환하고 textrpg-omega 저장 데이터를 1회 마이그레이션

## v0.3.2
- Scene: 인트로 타이틀 오버레이 추가(루카스 어드벤처 타이틀/터치 안내/배경 실루엣)
- Audio: 클릭/터치 후 WebAudio 기반 앰비언트 BGM 재생 및 HUD 토글 제공

## v0.3.1
- UI: 모바일 원스크린 HUD 레이아웃(상단 프로필/스탯, 중앙 이벤트 카드, 하단 도크)로 개편
- UX: 로그 패널 도킹 + 펼치기/접기 시트, 저장 아이콘 버튼, HUD 클릭 상태 시트 연결
- Feature: 인벤/스킬/도감/랭킹 바텀 시트 및 로컬스토리지 기반 기록 저장

## v0.3.0
- Pivot: 길드 의뢰 루프(허브 → 의뢰 → 정산 → 허브)로 전개 변경
- Content: 쉬움/보통/도박 3개 의뢰와 전투 노드 추가
- Feature: 누적 스탯 기반 멀티 엔딩 6종 도입

## v0.2.9
- Fix: 전투 HP 표시가 바 안에서 잘리던 문제 수정(바 높이/텍스트/필)
- Fix: 전투 화면에 전투 로그가 표시되지 않던 문제 수정(combat-log 렌더링)
- UX: 모바일 전투 UI 개선(주사위 크기 축소/레이아웃 스크롤 안정화)
- Chore: 캐시 차단을 위해 style.css에도 버전 쿼리 적용


## v0.2.8
- Fix: hidden 속성이 CSS에 의해 무시되어 전투 오버레이가 상시 표시되던 문제 해결
- Fix: 전투 복구 버튼 동작 연결
- UX: 주사위 패널 클릭으로도 전투 판정 가능(모바일)

## v0.2.7
- 엔진 하드 리셋으로 부팅 멈춤 문제 해결 및 JS 실행 배지 노출
- data 스키마 정규화(nodes/enemies) 및 전투 복원 실패 시 자동 탐험 복귀
- 데이터 로드 실패 원인(파일/URL/status/메시지) 화면 표시 + 재시도/긴급 초기화 제공

## v0.2.6
- 부팅 실패 시 무한 ‘준비 중’ 고정 방지(try/catch/finally + 안전 종료)
- 데이터 로드/파싱/스키마 정규화로 “열리는데 실패” 오판정 해결(node_id/next_node, 공격/피해량 등)
- 전투 복원 실패 시 자동 전투 상태 정리 후 탐험 복귀(갇힘 방지)
- 실패 원인(예외/스택/실패 파일/URL/status) 화면 표시
- main.js 캐시 방지 쿼리 적용 및 엔진 버전 배지 노출

## v0.2.5
- 시작부터 전투/오류 화면에 갇히는 문제 해결(부팅 시 탐험 우선 렌더링)
- 데이터 스키마 차이 정규화로 로드 성공 오판 방지(노드/선택지/적 데이터 키 보강)
- 전투 복원 실패 시 자동 전투 상태 정리 후 탐험 복귀
- 부팅/로드 실패 원인을 화면에 상세 표시(파일/URL/오류 메시지)
- main.js 캐시 방지 쿼리 적용

## v0.2.4
- 저장된 전투 복원 실패 시 자동으로 탐험 복귀 및 전투 상태 정리
- 데이터 로드 실패 진단 정보(파일/URL/상태) 표시와 재시도/긴급 초기화 지원
- main.js 위치 기반 BASE 계산으로 하위 경로에서도 데이터 로드 안정화
- ?reset=1 접속 시 TextRPG 저장 데이터 초기화

## v0.2.3
- data JSON 로딩 URL을 location 기반으로 구성하고 실패 시 URL/상태를 로그에 남기도록 개선
- 로드 실패 목록에 파일/URL/HTTP 상태 또는 파싱 오류 메시지 표시
- 저장 스키마 불일치 시 전투 상태만 초기화하고 전투 재개를 비활성화

## v0.2.2
- 허브 GAMES.json 로드 핫픽스(캐시/오류 표시)
- TextRPG 데이터 로드 실패 표시/재시도/긴급 초기화
- 전투 복원 조건 강화(전투 갇힘 방지)

## v0.2.1
- 허브 카드 버전 표기 업데이트
- 저장 데이터 불일치 시 전투 자동 복구(전투 갇힘 방지)
- 긴급 초기화(세이브 삭제) 및 reset=1 진입점 추가

## v0.2.0
- 한 화면 탐험 UI 구성(상단 HUD/상황 카드/로그 내부 스크롤/하단 도크/상태 시트)
- 아이콘/툴팁 기반 정보 표시와 상태/인벤/설정 통합
- 전투 화면(Scene) 분리 및 전투 커맨드 도크, 주사위 강조 연출 추가
- 상태이상 아이콘/턴 표시와 아이템 사용 UX 개선

## v0.1.2
- 세이브 슬롯(1~3) 저장/불러오기 및 자동저장 시간 표시 추가
- 세이브 내보내기/가져오기(클립보드/다운로드 및 텍스트/파일 입력) 지원
- 전투 모드 UI 강화(전투 헤더/상태 표시/치명·빗나감 강조, 전투 중 아이템 사용 유지)
- 로그 개선(자동 스크롤 토글, 맨 아래 버튼, 하이라이트/턴 요약)
- 초반 밸런스 완화 및 위기 시 휴식/후퇴 옵션 제공

## v0.1.1
- 뒤로가기/재진입 안정화(bfcache pageshow 처리, init 중복 방지, 안전 저장)
- 수동 저장 버튼 추가 및 저장 토스트/상태 피드백 제공
- 새 여정 초기화 범위 확장(주사위/로그 포함)
- 중복 클릭 방지 및 기본 안정화 처리

## v0.1.0
- 텍스트 로그, HUD, 선택지 UI 기반의 텍스트 RPG 프로토타입 추가
- D20 판정, 이벤트 엔진, 턴제 전투/상태이상/주사위 연출 구현
- 데이터(JSON) 기반 콘텐츠 로딩 및 LocalStorage 저장 지원
